# RabbitMQ Configuration for Override and Health Check Functionality
# 
# New in v1.4.0:
# - RABBITMQ_OVERRIDE_QUEUE: Queue name for receiving temporary override commands
# - RABBITMQ_HEALTHCHECK_ROUTING_KEY: Routing key for publishing health check messages
#
# These are optional - if not set, defaults will be used:
# - RABBITMQ_OVERRIDE_QUEUE defaults to "wbor_failsafe_override"  
# - RABBITMQ_HEALTHCHECK_ROUTING_KEY defaults to "health.failsafe-status"

# RabbitMQ connection URL (required for RabbitMQ functionality)
RABBITMQ_AMQP_URL=amqp://username:password@rabbitmq.example.com:5672/vhost

# Exchange name for publishing events (optional, defaults to "wbor_failsafe_events")
RABBITMQ_EXCHANGE_NAME=wbor_failsafe_events

# Routing key for source change notifications (optional, defaults to "notification.failsafe-status")
RABBITMQ_ROUTING_KEY=notification.failsafe-status

# Queue name for receiving override commands (optional, defaults to "wbor_failsafe_override")
RABBITMQ_OVERRIDE_QUEUE=wbor_failsafe_override

# Routing key for health check messages (optional, defaults to "health.failsafe-status")
RABBITMQ_HEALTHCHECK_ROUTING_KEY=health.failsafe-status

# Example override message format to send to the override queue:
# {
#   "action": "enable_override", 
#   "duration_minutes": 5  # (optional, defaults to 5 minutes)
# }
# 
# Or to disable override:
# {
#   "action": "disable_override"
# }

# Health check messages are sent every hour with this format:
# {
#   "source_application": "wbor-failsafe-notifier",
#   "event_type": "health_check", 
#   "timestamp_utc": "2025-07-23T10:00:00.000000+00:00",
#   "status": "alive",
#   "pin_name": "D18",
#   "current_pin_state": true,
#   "active_source": "A",
#   "override_active": false,
#   "override_end_time": null
# }